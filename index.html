<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<meta http-equiv="Cache-control" content="no-cache">
<link href="styles.css" type="text/css" rel="stylesheet" />
<title>Nivsite</title>

<link rel="apple-touch-icon" sizes="57x57" href="media/icons/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="media/icons/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="media/icons/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="media/icons/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="media/icons/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="media/icons/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="media/icons/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="media/icons/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="media/icons/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="media/icons/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="media/icons/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="media/icons/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="media/icons/favicon/favicon-16x16.png">
<link rel="manifest" href="media/icons/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="media/icons/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<style type="text/css">
	html, body {
		height: 100%;
		margin: 0;
	}

	#wrapper {
		min-height: 100%;
	}
</style>

</head>
<body>

<div id="home" class="home_container">
	<!-- INNER -->
	<div class="inner">
		<svg class="c" width="340" height="340" viewBox="0 0 120 120">
        	<circle class="c4r" cx="60" cy="60" r="54" fill="none" stroke="gray" stroke-width=".1" />
  		</svg>
	</div>
	<div class="inner">
		<svg class="c" width="300" height="300" viewBox="0 0 120 120">
        	<circle class="c3" cx="60" cy="60" r="54" fill="none" stroke="gray" stroke-width=".1"  />
  		</svg>
	</div>
		<div class="inner">
		<svg  width="215" height="215" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" >
        	<rect width="300" height = "300" stroke-width="1" stroke="gray" fill-opacity="0" />
        		<animate attributeType="XML" attributeName="opacity" from="0" to="1" dur="1s" />
				<animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 0 0" to="360 0 0" dur="60s" repeatCount="indefinite"/>
  		</svg>
	</div>
	
	<div class="inner">
		<svg id="satellite1" height="400" width="400">				
			<animate attributeType="XML" attributeName="opacity" from="0" to="1" dur="3s" />
			<animateTransform attributeType="xml" attributeName="transform" type="rotate" values="0 0 0; -360 0 0" dur="100s" additive="sum" repeatCount="indefinite" />
		</svg>
		<script type="text/javascript">
			function drawCircle(cx, cy, r) {
				var svgCircle = document.createElementNS('http://www.w3.org/2000/svg', "circle");
				svgCircle.setAttributeNS(null, "cx", cx);
				svgCircle.setAttributeNS(null, "cy", cy);
				svgCircle.setAttributeNS(null, "r", r);
				svgCircle.setAttributeNS(null, "stroke", 'gray')
				svgCircle.setAttributeNS(null, "fill", 'transparent')
				return svgCircle;
			}
			function polarToCartesian(center_x, center_y, radius, angle_in_degrees) {
				var return_value = {}
				var angle_in_radians = angle_in_degrees * Math.PI / 180.0;
				return_value.x = center_x + radius * Math.cos(angle_in_radians);
				return_value.y = center_y + radius * Math.sin(angle_in_radians);
				return return_value;
			}
			/*  ==============================
			 Loop to Draw Satellite circles
			 ==============================  */
			//  The center is the same for all circles
			var cx = 200
			var cy = 200
			var radius_of_satellites_from_center = 144
			var radius_of_small_circles = 5
			var number_of_satellite_circles = 4
			//  The angle increments for each circle drawn
			for (var n = 0; n < number_of_satellite_circles; n++) {
				//  Find how many degrees separate each circle
				var degrees_of_separation = 360 / number_of_satellite_circles
				var angle_as_degrees = degrees_of_separation * n
				var coordinates = polarToCartesian(cx, cy, radius_of_satellites_from_center, angle_as_degrees)
				document.getElementById('satellite1').appendChild(drawCircle(coordinates.x, coordinates.y, radius_of_small_circles))
			}
		</script>
	</div>


		<!-- LEFT -->
	<div class="left">
		<svg class="c" width="800" height="800" viewBox="0 0 120 120">
        	<circle class="c6" cx="60" cy="60" r="54" fill="none" stroke="gray" stroke-width=".1" />
  		</svg>
	</div>
	<div class="left">
		<svg width="810" height="810" viewBox="0 0 288 288" xmlns="http://www.w3.org/2000/svg" version="1.1">
			<g id="seed" transform="translate(144,144)" stroke-width=".1" stroke="lightgray" fill="none" >
				<circle cx="0" r="64" />
				<circle cx="64" r="64" />
				<circle cx="64" r="64" transform="rotate(60)" />
				<circle cx="64" r="64" transform="rotate(120)" />
				<circle cx="64" r="64" transform="rotate(180)" />
				<circle cx="64" r="64" transform="rotate(240)" />
				<circle cx="64" r="64" transform="rotate(300)" />
				<circle cx="0" r="128" />
				<animate attributeType="XML" attributeName="opacity" from="0" to="1" dur="3s" />
				<animateTransform attributeType="xml" attributeName="transform" type="rotate" values="0 0 0; -360 0 0" dur="100s" additive="sum" repeatCount="indefinite" />
			</g>
		</svg>
	</div>
	
	<!-- RIGHT -->
	<div class="right">
		<svg class="cr" width="800" height="800" viewBox="0 0 120 120">
        	<circle class="c6" cx="60" cy="60" r="54" fill="none" stroke="gray" stroke-width=".1" />
  		</svg>
	</div>
	<div class="right">
		<svg width="810" height="810" viewBox="0 0 288 288" xmlns="http://www.w3.org/2000/svg" version="1.1">
			<g id="seed" transform="translate(144,144)" stroke-width=".1" stroke="lightgray" fill="none" >
				<circle cx="0" r="64" />
				<circle cx="64" r="64" />
				<circle cx="64" r="64" transform="rotate(60)" />
				<circle cx="64" r="64" transform="rotate(120)" />
				<circle cx="64" r="64" transform="rotate(180)" />
				<circle cx="64" r="64" transform="rotate(240)" />
				<circle cx="64" r="64" transform="rotate(300)" />
				<circle cx="0" r="128" />
				<animate attributeType="XML" attributeName="opacity" from="0" to="1" dur="3s" />
				<animateTransform attributeType="xml" attributeName="transform" type="rotate" values="0 0 0; -360 0 0" dur="100s" additive="sum" repeatCount="indefinite" />
			</g>
		</svg>
	</div>

	<div id="intro" class="fadein">
		<div class="h1">
			<div id="niven" class="names">NIVEN</div> <div id="francis" class="names">FRANCIS</div>
			<div id="enter" class="enter" onclick="fadeout_main()">
				<span style='border:5px #D3D3D3 solid;'>&nbspENTER&nbsp</span>
			</div>
		</div>
	</div>
</div>

<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script>
$(document).ready(function() {
	$('#enter').css({
        left: -0.1 * 850 + window.innerWidth/2 - 55,
        top: -0.1 * 400 + window.innerHeight/2 + 300
    });
    $('#niven').css({
        left: -0.02 * 850 + window.innerWidth/2 - 330,
        top: -0.02 * 400 + window.innerHeight/2 - 350
    });
    $('#francis').css({
        left: -0.04 * 850 + window.innerWidth/2 - 470,
        top: -0.04 * 400 + window.innerHeight/2 - 100
    });
    
    if(detectmob()) {
	    if (window.DeviceOrientationEvent) {
	    	var niven = document.getElementById("niven");
	    	niven.style.fontSize = "130pt";
	    	
	    	var francis = document.getElementById("francis");
	    	francis.style.fontSize = "130pt";
	    	
	    	var enter = document.getElementById("enter");

	    	function handleOrientation(event) {
	    	  var x = event.beta;  // In degree in the range [-180,180]
	    	  var y = event.gamma; // In degree in the range [-90,90]

	    	  // Because we don't want to have the device upside down
	    	  // We constrain the x value to the range [-90,90]
	    	  if (x >  90) { x =  90};
	    	  if (x < -90) { x = -90};
	    	  
	    	  if (y >  45) { y =  45};
	    	  if (y < -45) { y = -45};

	    	  // To make computation easier we shift the range of 
	    	  // x and y to [0,180]
	    	  x += 90;
	    	  y += 90;

	    	  niven.style.top  = (window.innerWidth*x/800 + 270) + "px";
	    	  niven.style.left = (window.innerHeight*y/800 + 100) + "px";
	    	  
	    	  francis.style.top  = (window.innerWidth*x/500 + 350) + "px";
	    	  francis.style.left = (window.innerHeight*y/500 - 100) + "px";
	    	  
	    	  enter.style.top  = (window.innerWidth*x/180 + 250) + "px";
	    	  enter.style.left = (window.innerHeight*y/180 - 370) + "px";
	    	}

	    	window.addEventListener('deviceorientation', handleOrientation);
	    }
    }
});

$(document).bind('mousemove', function(e){
	if(!detectmob()) {
	    $('#enter').css({
	        left: -0.1 * e.pageX + window.innerWidth/2 - 55,
	        top: -0.1 * e.pageY + window.innerHeight/2 + 300
	    });
	    $('#niven').css({
	        left: -0.02 * e.pageX + window.innerWidth/2 - 330,
	        top: -0.02 * e.pageY + window.innerHeight/2 - 350
	    });
	    $('#francis').css({
	        left: -0.04 * e.pageX + window.innerWidth/2 - 470,
	        top: -0.04 * e.pageY + window.innerHeight/2 - 100
	    });
	}
});

document.onkeydown = function() {
	if (event.keyCode == 13 || event.keyCode == 32) {
		fadeout_main();
	}
}

function fadeout_main() {
	document.getElementById("intro").style.animation = "fadeout 1s";
	setTimeout(loadMain, 900);
}

function loadMain() {
	var toChange = document.getElementById("intro");
	toChange.className = "container";
	document.getElementById("intro").style.animation = "fadein_transparent 1s";
	show_home();
}

function show_home() {
	var toChange = document.getElementById("intro");
	if(detectmob()) {
		toChange.innerHTML = '<div class="header_mobile" onclick="show_home()"><b>HOME</b></div> | ';
		toChange.innerHTML += '<div class="header_mobile" onclick="show_media()">MEDIA</div> | ';
		toChange.innerHTML += '<div class="header_mobile" onclick="show_about()">ABOUT</div>';
	}
	else if(!detectmob()) {
		toChange.innerHTML = '<div class="header" onclick="show_home()"><b>HOME</b></div> | ';
		toChange.innerHTML += '<div class="header" onclick="show_media()">MEDIA</div> | ';
		toChange.innerHTML += '<div class="header" onclick="show_about()">ABOUT</div>';
	}
	toChange.innerHTML += '<br><hr>';
	toChange.innerHTML += '<div id="inner" class="inner_text"></div>';
	
	document.getElementById("intro").style.opacity = 0.8;
	document.title = "Nivsite Home";
	
	var toChange = document.getElementById("inner");
	jQuery("#inner").load('WebContent/home.html');
}

function show_media() {
	var toChange = document.getElementById("intro");
	if(detectmob()) {
	toChange.innerHTML = '<div class="header_mobile" onclick="show_home()">HOME</div> | ';
	toChange.innerHTML += '<div class="header_mobile" onclick="show_media()"><b>MEDIA</b></div> | ';
	toChange.innerHTML += '<div class="header_mobile" onclick="show_about()">ABOUT</div>';
	}
	else if(!detectmob()) {
		toChange.innerHTML = '<div class="header" onclick="show_home()">HOME</div> | ';
		toChange.innerHTML += '<div class="header" onclick="show_media()"><b>MEDIA</b></div> | ';
		toChange.innerHTML += '<div class="header" onclick="show_about()">ABOUT</div>';
	}
	toChange.innerHTML += '<br><hr>';
	toChange.innerHTML += '<div id="inner" class="inner_text"></div>';
	
	document.getElementById("intro").style.opacity = 1;
	document.title = "Nivsite Media";
	
	var toChange = document.getElementById("inner");
	jQuery("#inner").load('WebContent/media.html');
}

function show_about() {
	var toChange = document.getElementById("intro");
	if(detectmob()) {
		toChange.innerHTML = '<div class="header_mobile" onclick="show_home()">HOME</div> | ';
		toChange.innerHTML += '<div class="header_mobile" onclick="show_media()">MEDIA</div> | ';
		toChange.innerHTML += '<div class="header_mobile" onclick="show_about()"><b>ABOUT</b></div>';
	}
	else if(!detectmob()) {
		toChange.innerHTML = '<div class="header" onclick="show_home()">HOME</div> | ';
		toChange.innerHTML += '<div class="header" onclick="show_media()">MEDIA</div> | ';
		toChange.innerHTML += '<div class="header" onclick="show_about()"><b>ABOUT</b></div>';
	
	}
	toChange.innerHTML += '<br><hr>';
	toChange.innerHTML += '<div id="inner" class="inner_text"></div>';
	
	document.getElementById("intro").style.opacity = 0.8;
	document.title = "Nivsite About";
	
	var toChange = document.getElementById("inner");
	jQuery("#inner").load('WebContent/about.html');
}

function detectmob() { 
	 if( navigator.userAgent.match(/Android/i)
	 || navigator.userAgent.match(/webOS/i)
	 || navigator.userAgent.match(/iPhone/i)
	 || navigator.userAgent.match(/iPad/i)
	 || navigator.userAgent.match(/iPod/i)
	 || navigator.userAgent.match(/BlackBerry/i)
	 || navigator.userAgent.match(/Windows Phone/i)
	 ){
	    return true;
	  }
	 else {
	    return false;
	  }
}

</script>

</body>
</html>
